# Follow directions on https://hands-on-rust.com/2021/11/06/run-your-rust-games-in-a-browser-hands-on-rust-bonus-content/ or in Obsidian Vualt

# make sure cargo.toml has appropriate libs for WASM:
## bracket-lib = { git = "https://github.com/amethyst/bracket-lib.git", rev = '0d2d5e6a9a8e7c7ae3710cfef85be4cab0109a27'}
## legion = { version = "=0.3.1", default-features = false, features = ["wasm-bindgen", "codegen"] }

# mkdir wasm_help (for some reason) - the actual directory will be ./wasm_help
mkdir wasm_help

# cargo build the wasm 
cargo build --target wasm32-unknown-unknown --release

# use wasm-bindgen to generate the java script appropriate for the wasm file
wasm-bindgen target/wasm32-unknown-unknown/release/dungeoncrawl.wasm --out-dir .\wasm_help --no-modules --no-typescript

# start web server and open url
python3 -m http.server